# ğŸ‘©ğŸ»â€ğŸ’» StackUP
<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/0cc1954c-49d4-4024-b6d1-eacb48f2b063" width="100" height="100"/>

### ì˜¨ë¼ì¸ ê°•ì˜ë¥¼ íƒìƒ‰í•˜ê³  ì›í•˜ëŠ” ê°•ì˜ë¥¼ ìˆ˜ê°•í•  ìˆ˜ ìˆëŠ” ì•±
- iOS 1ì¸ ê°œë°œ / BackEnd í˜‘ì—…
- ìµœì†Œ ë²„ì „ iOS 16.0
- ê°œë°œ ê¸°ê°„ 2ì£¼

## ğŸ“ ì£¼ìš” ê¸°ëŠ¥
- íšŒì›ê°€ì… ë° ë¡œê·¸ì¸(ìœ íš¨ì„± ê²€ì‚¬)
- í”„ë¡œí•„ ìˆ˜ì • ë° íƒˆí‡´
- ìƒˆë¡œ ë‚˜ì˜¨ ê°•ì˜ / ì¸ê¸° ê°•ì˜(ê²°ì œ ë§ì€ ìˆœ) / ê°•ì˜ ì¶”ì²œì„ í†µí•œ ê°•ì˜ ì¡°íšŒ
- ì¹´í…Œê³ ë¦¬ë¥¼ í†µí•œ ê°•ì˜ ê²€ìƒ‰
- ê°•ì˜ ìˆ˜ê°•(ê²°ì œ)
- ê°•ì˜ ìˆ˜ê°• í›„ê¸° ì‘ì„±
- ê³ ê°ì„¼í„° 1:1 ëŒ€í™”
- ì €ì¥í•œ ê°•ì˜ ë° ìˆ˜ê°•ì¤‘ì¸ ê°•ì˜ ë‚´ì—­ ì¡°íšŒ

## âš’ï¸ ì‚¬ìš© ê¸°ìˆ  ë° ë¼ì´ë¸ŒëŸ¬ë¦¬
`SwiftUI` `Combine` `Alamofire` `Kingfisher` `SocketIO` `UIKit` `DTO` `iamport` `SwiftConcurrency` `MVVM` `SPM` `UIViewControllerRepresentable`

## âš’ï¸ ê¸°ìˆ  ì ìš©

- **SocketIO**ì„ í†µí•œ ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ë©”ì‹œì§€ ì „ì†¡ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ë¦¬
- **DTO**ë¥¼ í†µí•´ ë°ì´í„° ê³„ì¸µ ê°„ì˜ ê°ì²´ ì „ì†¡ì„ ë‹¨ìˆœí™”í•˜ê³  íš¨ìœ¨í™”í•˜ì—¬ ì‹œìŠ¤í…œ ëª¨ë“ˆ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶¤
- **Router Pattern**ì„ í†µí•´ ë·° ì „í™˜ì„ ì œì–´í•˜ê³ , ì•±ì˜ ë„¤ë¹„ê²Œì´ì…˜ íë¦„ì— ëŒ€í•œ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•˜ë„ë¡ êµ¬í˜„
- **@EnvironmentObject**ë¥¼ í†µí•´ ê° ë·°ê°€ ë™ì¼í•œ ë¼ìš°íŒ… ìƒíƒœë¥¼ ê³µìœ í•˜ê³  ë™ê¸°í™”í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„
- **UIViewControllerRepresentable**ì„ í†µí•´ SwiftUIì™€ UIKitì„ í˜¼í•©ì ìœ¼ë¡œ ì‚¬ìš©
- **CustomModifier**ë¥¼ í†µí•´ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ì¼ê´€ì„±ì„ ë†’ì„
- **@StateObject**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë·°ì˜ ë Œë”ë§ê³¼ ê´€ê³„ì—†ì´ ë·° ë‚´ì—ì„œ ì¬ì‚¬ìš©í•˜ë„ë¡ êµ¬í˜„
- **ObservableObject**ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì´ ì—…ë°ì´íŠ¸ ë  ë•Œë§ˆë‹¤ ë·°ë¥¼ ê°±ì‹ í•˜ë„ë¡ êµ¬í˜„
- **propertyWrapper**ë¥¼ í†µí•´ UserDefaults ê°’ì„ ì €ì¥ ë° ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì—¬ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³  ë°ì´í„° ì €ì¥ ë¡œì§ì„ ê°„ê²°í•˜ê²Œ ë§Œë“¦
- **Cursor-based Pagenation**ì„ í†µí•´ ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬
- **enum**ì„ í†µí•´ ë·°ì˜ ì¬ì‚¬ìš©ì„±ê³¼ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì„
- ê²°ì œ ìš”ì²­ í›„ ì˜ìˆ˜ì¦ ê²€ì¦ì„ í†µí•˜ì—¬ ì„œë²„ì— êµ¬ë§¤ ì²˜ë¦¬ ìš”ì²­ ì§„í–‰


## ğŸ“· ìŠ¤í¬ë¦°ìƒ·

|í™ˆ í™”ë©´|ê°•ì˜ ìƒì„¸ í™”ë©´|ë§ˆì´í˜ì´ì§€|
|:---:|:---:|:---:|
|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/a7d4ea16-7311-43c2-a41f-f39f14387d99" width="200" height="390"/>|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/f1fb2d3f-8ae8-44f6-8da1-0aad71df93a0" width="200" height="390"/>|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/157aa68b-d5e2-4671-a82d-1965ee6aeea2" width="200" height="390"/>|

|í›„ê¸° ì‘ì„±|ìˆ˜ê°•ì‹ ì²­ ë‚´ì—­|ì°œí•œ ê°•ì˜|
|:---:|:---:|:---:|
|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/0492ddda-0d50-40c8-8c0c-66ba491e39d4" width="200" height="390"/>|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/92c3d935-aa3b-4a98-aa7b-c76d598b4eae" width="200" height="390"/>|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/f930a61c-fd00-46c9-8fac-8a2a0b8180ed" width="200" height="390"/>|

|ê°•ì˜ ê²€ìƒ‰|ê°•ì˜ ê²€ìƒ‰ ê²°ê³¼|ê³ ê°ì„¼í„°|
|:---:|:---:|:---:|
|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/5232a626-90ff-4dbb-8859-b8bb8341580f" width="200" height="390"/>|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/18e63635-5d5f-4ece-bf6c-7d7bcb4a2dc4" width="200" height="390"/>|<img src="https://github.com/Minchelin42/TechMasterSwiftUI/assets/126135097/28c00482-f7bb-42bd-a657-bb9b31ae0e9a" width="200" height="390"/>|

## ğŸ’¥ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1ï¸âƒ£ Router Patternì„ ë„ì…í•˜ì—¬ Navigation ê´€ë¦¬

ë¬¸ì œ ìƒí™© : ë³µì¡í•œ í™”ë©´ ì „í™˜ ë¡œì§ì— ëŒ€í•œ ë¶ˆí¸í•¨

í•´ê²° ë°©ì•ˆ : Router Patternì„ ë„ì…í•˜ì—¬ í™”ë©´ ì „í™˜ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬


```Swift
public final class Router: ObservableObject {
    @Published public var route = NavigationPath()
    public init() { }
    
    @MainActor
    public func push<T: Hashable>(view: T) {
        route.append(view)
    }
    
    @MainActor
    public func pop() {
        route.removeLast()
    }
    
    @MainActor
    public func pop(depth: Int) {
        route.removeLast(depth)
    }
    
    @MainActor
    public func popToRoot() {
        route = NavigationPath()
    }
    
    @MainActor
    public func switchView<T: Hashable>(view: T) {
        guard !route.isEmpty else { return }
        var tempRoute = route
        tempRoute.removeLast()
        tempRoute.append(view)
        route = tempRoute
    }
}
```

### 2ï¸âƒ£ onChangeë¥¼ í†µí•´ ê°’ì˜ ë³€í™”ë¥¼ ê°ì§€í•˜ì—¬ ë³€í™”ì— ë”°ë¥¸ ë¡œì§ ì ìš©

ì´ˆê¸° ìƒí™© : í”„ë¡œí•„ ìˆ˜ì • alert ë²„íŠ¼ í™•ì¸ì„ ëˆ„ë¥´ë©´ API í†µì‹  -> router.popì„ ì´ìš©í•˜ì—¬ í™”ë©´ ì „í™˜

ë¬¸ì œ ìƒí™© : ì´ëŸ¬í•œ ë°©ì‹ì„ ì‚¬ìš©í•  ê²½ìš° í”„ë¡œí•„ ìˆ˜ì • API ë³´ë‹¤ ì´ì „ í™”ë©´ì—ì„œ í”„ë¡œí•„ ì¡°íšŒ APIê°€ ë¨¼ì € ì™„ë£Œë  ê²½ìš° ë³€ê²½ëœ í”„ë¡œí•„ë¡œ ì¡°íšŒí•´ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ

í•´ê²° ë°©ì•ˆ : viewModelì—ì„œ editProfile í†µì‹  í›„ receiveValueì—ì„œ ê°’ì„ ë°›ìœ¼ë©´ output.popì— ëŒ€í•œ ê°’ì„ ë³€ê²½í•˜ì—¬ í•´ë‹¹ output ê°’ì´ ë³€í•˜ëŠ” ì‹œì ì„ **onChange**ë¥¼ í†µí•´ íŒŒì•…í•˜ê³  ì´ë•Œ router.popì´ ì‹¤í–‰ë˜ë„ë¡ ë³€ê²½

```Swift
    func transform() {
        input.editProfileButtonTapped
            .sink { [weak self] query in
                guard let self else { return }
                Task { await self.editProfile(query: query) }
            }
            .store(in: &cancellables)
    }
    
    func editProfile(query: ProfileQuery) async {
        do {
            try await Network.shared.multipartAPICall(model: ProfileResponseDTO.self, router: ProfileRouter.editProfile, query: query)
                .sink { result in
                    switch result{
                    case .finished:
                        print("Fetch Success")
                    case .failure:
                        print("Fetch Failed")
                        print(result.self)
                    }
                } receiveValue: { [weak self] resultProfile in
                    guard let self else { return }
                    self.output.pop = true
                }
                .store(in: &cancellables)
        } catch {
            print("edit Profile ì‹¤íŒ¨")
        }
    }
```


```Swift
     VStack {
        //EditProfileView
    }
    .onChange(of: viewModel.output.pop) { newValue in
        if newValue {
            router.pop()
        }
    }
```
